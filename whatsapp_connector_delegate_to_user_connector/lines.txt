notifactionSubscriber(){const out={new_messages:(payload)=>{if(this.state.user.status){payload.map(m=>this.onNewMessage(m))}},init_conversation:(payload)=>{if(this.state.user.status){payload.map(m=>this.onInitConversation(m))}},change_status:(payload)=>{payload.map(m=>this.onChangeStatus(m))},update_conversation:(payload)=>{if(this.state.user.status){payload.forEach(m=>{const conv=this.state.conversations.find(x=>x.id===m.id)
if(conv){conv.updateFromJson(m)}else{this.onUpdateConversation(m)}})}},error_messages:(payload)=>{if(this.state.user.status){payload.map(m=>this.onErrorMessages(m))}}}
